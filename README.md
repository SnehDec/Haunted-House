# Haunted-House
This repository contains the completed C code for a microcontroller-operated "Haunted House" interactive puzzle.

# Background 
A long time ago, the large Smith family used to live in a house (portrayed by a dollhouse/model house). One day, tragedy struck and the roof of the house collapsed, killing the entire family. Due to the disturbing nature of the accident, the house was abandoned and has been wasting away slowly over the years. The player is passing by this house on a Halloween night when he/she notices a light flickering through a window of the house. The player is quick to realize that the light flashes are Morse Code, and that a distressed and disoriented spirit of one of the Smith children is trapped inside the house, and can only be set free by having its name revealed to it. The player uses their handy flashlight (portrayed by a laser pointer) to "ask" the ghost questions about its life through the window and try to figure out its name.

# How the Puzzle Works 
The puzzle will consist of a dollhouse with a window and a door. The player will be provided with an information sheet that provides a background on the people who used to live in the house along with seven pre-defined clues that can be asked of the ghost, a Morse Code translation sheet, and a laser pointer. The player will have to use the information provided in the information sheet to solve the puzzle.  
The player’s job is to use the laser pointer to communicate with the ghost through the window of the house and find out its name, thereby setting it free and opening the door of the house. The player can ask the ghost for four of the pre-defined clues about its personality and has one chance to deduce and communicate to the ghost its name from the information sheet. This puzzle will not be timed as it relies more on the smart choice of the four clues than on the ability of the player to think quickly. 

The laser pointer’s flashes will be picked up by one of a set of photodiodes placed inside the dollhouse by the window and a current pulse generated. The ghost will communicate using an LED that is programmed to flicker in Morse code depending on the clues asked by the player. A Nucleo-64 STM32 microcontroller will be used to process the current generated by the photodiode and to send corresponding signals to the LED to flicker in response.  

Once it has been recorded that the player has asked for four clues (this will be done by programming the microcontroller to keep track of the number of distinct inputs it receives: duplicate hints are not counted), the system will no longer accept “questions” to the ghost and will only provide an output if the name of the ghost is correctly entered by the user in Morse Code. The output will either be “WRONG”, outputted in Morse Code through the LED, or, if the player correctly guesses the name of the ghost, the output will be in the form of the door of the house opening. The mechanism used to open the door of the house consists of a DC Motor + Relay system connected to the door by a string that coils around the motor when the motor turns on, thus causing a tension that pulls the door open. Each clue consists of two letters. If the player makes "typos" while entering his/her letters in Morse Code, a red indicator LED will turn on and the player will have another chance to enter that letter. A green indicator LED indicates that the player's letter has been successfully recorded. 

# List of Hints:

First Letter of Name (FL)

Favourite Food (FF)

Favourite TV genre (FT)

Favourite Animal (FA)

Favourite Colour (FC)

Favourite Parent (FP)

Favourite Hobby (FH)

